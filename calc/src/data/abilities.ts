import * as I from './interface';
import {toID} from '../util';

const RBY: string[] = [];

const GSC: string[] = [];

const ADV = [
  'Air Lock',
  'Piège Sable',
  'Armurbaston',
  'Brasier',
  'Chlorophylle',
  'Corps Sain',
  'Ciel Gris',
  'Homochromie',
  'Œil Composé',
  'Joli Sourire',
  'Crachin',
  'Moiteur',
  'Sécheresse',
  'Matinal',
  'Pose Spore',
  'Corps Ardent',
  'Torche',
  'Météo',
  'Cran',
  'Coloforce',
  'Agitation',
  'Hyper Cutter',
  'Luminescence',
  'Vaccin',
  'Attention',
  'Insomnia',
  'Intimidation',
  'Regard Vif',
  'Lévitation',
  'Paratonnerre',
  'Échauffement',
  'Suintement',
  'Armumagma',
  'Magnépiège',
  'Écaille Spéciale',
  'Moins',
  'Médic Nature',
  'Benêt',
  'Engrais',
  'Tempo Perso',
  'Ramassage',
  'Plus',
  'Point Poison',
  'Pression',
  'Force Pure',
  'Cuvette',
  'Tête de Roc',
  'Peau Dure',
  'Fuite',
  'Sable Volant',
  'Voile Sable',
  'Sérénité',
  'Marque Ombre',
  'Mue',
  'Coque Armure',
  'Écran Poudre',
  'Anti-Bruit',
  'Turbo',
  'Statik',
  'Puanteur',
  'Glu',
  'Fermeté',
  'Ventouse',
  'Essaim',
  'Glissade',
  'Synchro',
  'Isograisse',
  'Torrent',
  'Calque',
  'Absentéisme',
  'Esprit Vital',
  'Absorbe-Volt',
  'Absorbe-Eau',
  'Ignifu-Voile',
  'Écran Fumée',
  'Garde Mystik',
];

const DPP = ADV.concat([
  'Adaptabilité',
  'Boom Final',
  'Colérique',
  'Anticipation',
  'Mauvais Rêve',
  'Télécharge',
  'Peau Sèche',
  'Filtre',
  'Don Floral',
  'Prédiction',
  'Fouille',
  'Gloutonnerie',
  'Ignifugé',
  'Cherche Miel',
  'Hydratation',
  'Corps Gel',
  'Poing de Fer',
  'Maladresse',
  'Feuille Garde',
  'Garde Magik',
  'Brise Moule',
  'Motorisé',
  'Mountaineer',
  'Multi-Type',
  'Annule Garde',
  'Normalise',
  'Persistent',
  'Soin Poison',
  'Pied Véloce',
  'Rebound',
  'Téméraire',
  'Rivalité',
  'Querelleur',
  'Simple',
  'Multi-Coups',
  'Début Calme',
  'Sniper',
  'Rideau Neige',
  'Alerte Neige',
  'Force Soleil',
  'Solide Roc',
  'Frein',
  'Impassible',
  'Lavabo',
  'Chanceux',
  'Pied Confus',
  'Technicien',
  'Lentiteintée',
  'Inconscient',
  'Délestage',
]);

const BW = DPP.concat([
  'Analyste',
  'Cœur de Coq',
  'Contestation',
  'Corps Maudit',
  'Défaitiste',
  'Acharné',
  'Rage Brûlure',
  'Garde-Ami',
  'Récolte',
  'Cœur Soin',
  'Heavy Metal',
  'Illusion',
  'Imposteur',
  'Infiltration',
  'Épine de Fer',
  'Light Metal',
  'Cœur Noble',
  'Miroir Magik',
  'Lunatique',
  'Impudence',
  'Multiécaille',
  'Momie',
  'Envelocape',
  'Pickpocket',
  'Toxitouche',
  'Farceur',
  'Phobique',
  'Régé-Force',
  'Force Sable',
  'Baigne Sable',
  'Herbivore',
  'Sans Limite',
  'Télépathe',
  'Téra-Voltage',
  'Rage Poison',
  'Turbo Brasier',
  'Tension',
  'Victorieux',
  'Armurouillée',
  'Peau Miracle',
  'Mode Transe',
]);

const XY = BW.concat([
  'Peau Céleste',
  'Aura Inversée',
  'Aroma-Voile',
  'Pare-Balles',
  'Bajoues',
  'Battant',
  'Aura Ténébreuse',
  'Souffle Delta',
  'Terre Finale',
  'Aura Féérique',
  'Flora-Voile',
  'Toison Épaisse',
  'Ailes Bourrasque',
  'Poisseux',
  'Toison Herbue',
  'Magicien',
  'Méga Blaster',
  'Amour Filial',
  'Peau Féérique',
  'Mer Primaire',
  'Protéen',
  'Peau Gelée',
  'Déclic Tactique',
  'Prognathe',
  'Gluco-Voile',
  'Symbiose',
  'Griffe Dure',
]);

const SM = XY.concat([
  'Batterie',
  'Synergie',
  'Boost Chimère',
  'Folle Furie',
  'Hypersommeil',
  'Corrosion',
  'Danseuse',
  'Corps Coloré',
  'Fantômasque',
  'Créa-Élec',
  'Repli Tactique',
  'Boule de Poils',
  'Métallo-Garde',
  'Peau Électrique',
  'Créa-Herbe',
  'Expuls'Organes',
  'Hydrata-Son',
  'Longue Portée',
  'Cruauté',
  'Créa-Brume',
  'Cérébro-Force',
  'Rassemblement',
  'Cercle d'Énergie',
  'Prisme-Armure',
  'Créa-Psy',
  'Prestance Royale',
  'Système Alpha',
  'Receveur',
  'Banc',
  'Spectro-Bouclier',
  'Bouclier-Carcan',
  'Chasse-Neige',
  'Endurance',
  'Filature',
  'Expert Acier',
  'Animacœur',
  'Surf Caudal',
  'Mèche Rebelle',
  'Prioguérison',
  'Aquabulle',
  'Sable Humide',
  'Escampette',
]);

const SS = SM.concat([
  'Osmose Équine (Blizzeval)',
  'Osmose Équine (Spectreval)',
  'Ramasse Ball',
  'Blanche Ruade',
  'Effilochage',
  'Breuvage Suspect',
  'Égide Inflexible',
  'Dragon\'s Maw',
  'Entêtement',
  'Sombre Ruade',
  'Dégobage',
  'Déclic Fringale',
  'Tête de Gel',
  'Écailles Glacées',
  'Lame Indomptable',
  'Libéro',
  'Mimétisme',
  'Armure Miroir',
  'Gaz Inhibiteur',
  'Voile Pastel',
  'Corps Condamné',
  'Osmose',
  'Propulseur',
  'Punk Rock',
  'Tir Vif',
  'Mûrissement',
  'Expul'Sable',
  'Brise-Barrière',
  'Nerfs d'Acier',
  'Turbine',
  'Boost Acier',
  'Transistor',
  'Poing Invisible',
  'Âme Vagabonde',
]);

const SV = SS.concat([
  'Courroupace',
  'Armure Caudale',
  'Perles du Fléau',
  'Commandant',
  'Collab',
  'Ruminant',
  'Absorbe-Terre',
  'Grecharge',
  'Corps en Or',
  'Chien de Garde',
  'Moteur à Hadrons',
  'Odeur Tenace',
  'Force Fongique',
  'Opportuniste',
  'Pouls Orichalque',
  'Paléosynthèse',
  'Sel Purificateur',
  'Charge Quantique',
  'Porte-Roche',
  'Semencier',
  'Incisif',
  'Général Suprême',
  'Épée du Fléau',
  'Bois du Fléau',
  'Thermodynamique',
  'Dépôt Toxique',
  'Urne du Fléau',
  'Bien Cuit',
  'Turbine Éolienne',
  'Aéroporté',
  'Supermutation',
]);

export const ABILITIES = [[], RBY, GSC, ADV, DPP, BW, XY, SM, SS, SV];

export class Abilities implements I.Abilities {
  private readonly gen: I.GenerationNum;

  constructor(gen: I.GenerationNum) {
    this.gen = gen;
  }

  get(id: I.ID) {
    return ABILITIES_BY_ID[this.gen][id];
  }

  *[Symbol.iterator]() {
    for (const id in ABILITIES_BY_ID[this.gen]) {
      yield this.get(id as I.ID)!;
    }
  }
}

class Ability implements I.Ability {
  readonly kind: 'Ability';
  readonly id: I.ID;
  readonly name: I.AbilityName;

  constructor(name: string) {
    this.kind = 'Ability';
    this.id = toID(name);
    this.name = name as I.AbilityName;
  }
}

const ABILITIES_BY_ID: Array<{[id: string]: Ability}> = [];

for (const abilities of ABILITIES) {
  const map: {[id: string]: Ability} = {};
  for (const ability of abilities) {
    const a = new Ability(ability);
    map[a.id] = a;
  }
  ABILITIES_BY_ID.push(map);
}
